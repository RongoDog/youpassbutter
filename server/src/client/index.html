<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>Devastator Client</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100%; }
			video {width: 100%; height: 100%; z-index: 0; display: none}
			.grid-container { display: grid; grid-template-columns: auto auto auto; position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; opacity: 0.75; }
			.grid-item { background-color: rgba(255, 255, 255, 0); border: 1px solid rgba(0, 0, 0, 0.5); font-size: 30px; text-align: center; }
			button { width: 75%; height: 50px; }
		</style>
	</head>
	<body id="container">
		<canvas></canvas>
		<video id="v"></video>
		<div class="grid-container">
		  <div class="grid-item">
					<form>
						<input type="radio" id = "fd" name="mode" value="facedetect" checked> Face Detection<br>
						<input type="radio" id = "mc" name="mode" value="manual"> Manual Control<br>
					</form>
			</div>
		  <div class="grid-item">2</div>
		  <div class="grid-item">3</div>
		  <div class="grid-item">4</div>
		  <div class="grid-item">5</div>
		  <div class="grid-item"><div id="plotAccelY" style="width: 100%; "></div></div>
		  <div class="grid-item">
		  	<div>
					<button id='start' title="If you do not see any video stream, make sure your browser supports the codec used within this demo (see the source code for details, or try Firefox or Chrome)">Start Streaming</button>
					<button id='stop'>Stop Streaming</button>
				</div>
		  </div>
		  <div class="grid-item">8</div>
		  <div class="grid-item">
				<form>
					<input id="CONTROL" type="text" style="padding: 1em; width: 75%; margin: auto auto;">
				</form>
		  	<button id="SEND">SEND</button>
		  </div>
		</div>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/97/three.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.dev.js"></script>
		<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
		<script src="main.js"></script>
		<script src="visualization.js"></script>
		<script src="signaling.js"></script>
		<script src="data-processing.js"></script>
		<script src="keyboard-commands.js"></script>
		<script>
			var Module = {
				 wasmBinaryFile: 'https://huningxin.github.io/opencv.js/build/wasm/opencv_js.wasm',
				preRun: [function() {
					Module.FS_createPreloadedFile('/', 'haarcascade_frontalface_default.xml', 'https://raw.githubusercontent.com/opencv/opencv/master/data/haarcascades/haarcascade_frontalface_default.xml', true, false);
					Module.FS_createPreloadedFile('/', 'haarcascade_profileface.xml', 'https://raw.githubusercontent.com/opencv/opencv/master/data/haarcascades/haarcascade_profileface.xml', true, false);
				}],
			};
		</script>
		<script async src="https://huningxin.github.io/opencv.js/build/wasm/opencv.js"></script>
	</body>
</html>